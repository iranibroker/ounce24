<div class="leaderboard-container">
  <h1>{{ 'bottomNav.leaderboard' | translate }}</h1>

  @if (query.isLoading()) {
    <app-data-loading />
  } @else if (query.data()) {
    <mat-nav-list>
      @for (user of query.data(); track user._id; let i = $index) {
        <a mat-list-item>
          <img
            matListItemAvatar
            src="https://ui-avatars.com/api/?name={{
              user.title || user.name
            }}&background=random"
            [alt]="user.title || user.name"
          />
          <span matListItemTitle>{{ user.title || user.name }}</span>
          <span matListItemLine>{{
            'leaderboard.signalCount' | translate: { value: user.totalSignals }
          }}</span>
          <span matListItemMeta class="score">
            {{ user.score?.toFixed(1) }}
          </span>
          <mat-divider></mat-divider>
        </a>
        @if (!$last) {}
      }
    </mat-nav-list>
  }
</div>
